{"version":3,"sources":["../../../../assets/Script/assets/Script/Bullet.ts"],"names":[],"mappings":";;;;;AAAA,uCAAiD;AAC3C,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAE5C;IAAsC,4BAAY;IADlD;QAAA,qEA+DC;QA3DG,UAAI,GAAQ,IAAI,CAAA;QAChB,4BAA4B;QAC5B,WAAK,GAAW,CAAC,CAAA,CAAA,KAAK;QACtB,UAAI,GAAW,CAAC,CAAA;QAChB,gBAAU,GAAY,IAAI,CAAA,CAAC,WAAW;QACtC,QAAE,GAAW,CAAC,CAAA;QACd,UAAI,GAAY,KAAK,CAAA;;IAqDzB,CAAC;IAnDG,wBAAwB;IAExB,yBAAM,GAAN;QACI,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAA;QACtD,IAAI,CAAC,cAAc,EAAE,CAAA;QACrB,sBAAe,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,GAAG,IAAI,CAAA;QACpC,sBAAe,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;QACxC,sBAAe,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;IAC5C,CAAC;IAED,YAAY;IAEZ,IAAI;IACJ,QAAQ;IACR,iCAAc,GAAd;QACI,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAA;QACvB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAA;QAChB,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAA;QACvB,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAA;QAC7B,sBAAe,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,GAAG,KAAK,CAAA;IACzC,CAAC;IAED,4BAAS,GAAT;QACI,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,CAAC,CAAA;IACzB,CAAC;IAED,uBAAI,GAAJ;QACI,IAAI,CAAC,IAAI,GAAE,IAAI,CAAA;QACf,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAA;QAC1B,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAA;QACnB,OAAO,sBAAe,CAAC,IAAI,CAAC,EAAE,CAAC,CAAA;IACnC,CAAC;IAED,yBAAM,GAAN,UAAO,EAAE;QACL,IAAG,IAAI,CAAC,IAAI,EAAC;YACT,OAAQ;SACX;QACD,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE;YACjG,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAA;YACzB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAA;SAC1B;QACD,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YAC1C,IAAI,CAAC,cAAc,EAAE,CAAA;YACrB,IAAI,CAAC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAA;YAChC,OAAQ;SACX;QACD,gCAAgC;QAChC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,GAAG,EAAE,CAAA;QAC9B,sBAAe,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;QACxC,sBAAe,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAA;IAC5C,CAAC;IA1DD;QADC,QAAQ;0CACO;IAHC,QAAQ;QAD5B,OAAO;OACa,QAAQ,CA8D5B;IAAD,eAAC;CA9DD,AA8DC,CA9DqC,EAAE,CAAC,SAAS,GA8DjD;kBA9DoB,QAAQ","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["import { bulletPositions } from \"./modules/data\";\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport default class NewClass extends cc.Component {\n\n    @property\n    game: any = null\n    // accel: number = 200 //加速度\n    speed: number = 0// 速度\n    carY: number = 0\n    bulletNext: boolean = true //允许产生下一个子弹\n    id: number = 0\n    done: boolean = false\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        this.carY = this.game.car.y + this.game.car.height / 2\n        this.resetTheBullet()\n        bulletPositions[this.id].node = this\n        bulletPositions[this.id].x = this.node.x\n        bulletPositions[this.id].y = this.node.y\n    }\n\n    // start() {\n\n    // }\n    // 子弹返仓d\n    resetTheBullet() {\n        this.node.y = this.carY\n        this.speed = 400\n        this.node.opacity = 255\n        this.node.x = this.game.car.x\n        bulletPositions[this.id].fade = false\n    }\n\n    onShooted(){\n        this.node.opacity = 0\n    }\n\n    over(){\n        this.done =true\n        this.node.stopAllActions()\n        this.node.destroy()\n        delete bulletPositions[this.id]\n    }\n\n    update(dt) {\n        if(this.done){\n            return ;\n        }\n        if (this.bulletNext && this.node.y > this.node.height * 2 + this.carY && !this.game.stopSpawnBullet) {\n            this.game.initNewBullet()\n            this.bulletNext = false\n        }\n        if (this.node.y >= this.game.node.height / 2) {\n            this.resetTheBullet()\n            this.game.stopSpawnBullet = true\n            return ;\n        }\n        // this.speed += this.accel * dt\n        this.node.y += this.speed * dt\n        bulletPositions[this.id].x = this.node.x\n        bulletPositions[this.id].y = this.node.y\n    }\n}\n"]}