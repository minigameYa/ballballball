{"version":3,"sources":["../../../../assets/Script/assets/Script/Bullet.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["import { bulletPositions } from \"./modules/data\";\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport default class NewClass extends cc.Component {\n\n\t@property\n\tgame: any = null\n\t// accel: number = 200 //加速度\n\tspeed: number = 0// 速度\n\tcarY: number = 0\n\tbulletNext: boolean = true //允许产生下一个子弹\n\tid: number = 0\n\tdone: boolean = false\n\n\t// LIFE-CYCLE CALLBACKS:\n\n\tonLoad() {\n\t\tthis.carY = this.game.car.y + this.game.car.height / 2\n\t\tthis.resetTheBullet()\n\t\tbulletPositions[this.id].node = this\n\t\tbulletPositions[this.id].x = this.node.x\n\t\tbulletPositions[this.id].y = this.node.y\n\t}\n\n\t// start() {\n\n\t// }\n\t// 子弹返仓d\n\tresetTheBullet() {\n\t\tthis.node.y = this.carY\n\t\tthis.speed = 400\n\t\tthis.node.opacity = 255\n\t\tthis.node.x = this.game.car.x\n\t\tbulletPositions[this.id].fade = false\n\t}\n\n\tonShooted() {\n\t\tthis.node.opacity = 0\n\t}\n\n\tover() {\n\t\tthis.done = true\n\t\tthis.node.stopAllActions()\n\t\tthis.node.destroy()\n\t\tdelete bulletPositions[this.id]\n\t}\n\n\tupdate(dt) {\n\t\tif (this.done) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.bulletNext && this.node.y > this.node.height * 2 + this.carY && !this.game.stopSpawnBullet) {\n\t\t\tthis.game.initNewBullet()\n\t\t\tthis.bulletNext = false\n\t\t}\n\t\tif (this.node.y >= this.game.node.height / 2) {\n\t\t\tthis.resetTheBullet()\n\t\t\tthis.game.stopSpawnBullet = true\n\t\t\treturn;\n\t\t}\n\t\t// this.speed += this.accel * dt\n\t\tthis.node.y += this.speed * dt\n\t\tbulletPositions[this.id].x = this.node.x\n\t\tbulletPositions[this.id].y = this.node.y\n\t}\n}\n"]}