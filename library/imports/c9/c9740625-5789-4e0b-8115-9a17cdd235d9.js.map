{"version":3,"sources":["../../../../assets/Script/assets/Script/Coin.ts"],"names":[],"mappings":";;;;;AAAM,IAAA,kBAAqC,EAAnC,oBAAO,EAAE,sBAAQ,CAAmB;AAG5C;IAAsC,4BAAY;IADlD;QAAA,qEAwDC;QApDC,WAAK,GAAW,EAAE,CAAA;QAClB,UAAI,GAAQ,IAAI,CAAA;;IAmDlB,CAAC;IAjDC,yBAAM,GAAN;QACE,IAAI,CAAC,aAAa,EAAE,CAAA;IACtB,CAAC;IAED,gCAAa,GAAb;QACE,IAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAA;QAClC,IAAM,IAAI,GAAG,EAAE,CAAC,MAAM,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAE,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,aAAa,EAAE,CAAC,CAAA;QAC7G,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAA;IAC3B,CAAC;IAED,2BAAQ,GAAR;QACE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAA;QACpB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAA;IACrB,CAAC;IAED,SAAS;IACT,iCAAc,GAAd;QACE,IAAM,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAA;QAC1C,IAAM,IAAI,GAAG,EAAE,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAA;QACrD,OAAO,IAAI,CAAA;IACb,CAAC;IAED,yBAAM,GAAN,UAAO,EAAE;QACP,IAAI,CAAC,KAAK,IAAI,EAAE,CAAA;QAChB,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,EAAE;YACnB,IAAI,CAAC,aAAa,EAAE,CAAA;SACrB;QACD,IAAI,IAAI,CAAC,KAAK,IAAI,CAAC,EAAE;YACnB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAA;SACpB;QACD,IAAI,IAAI,CAAC,cAAc,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,KAAK,GAAG,CAAC,EAAE;YACzE,IAAI,CAAC,QAAQ,EAAE,CAAA;SAChB;IACH,CAAC;IAED,gCAAa,GAAb;QACE,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,CAAA;QACvB,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,GAAG,EAAE;YAC5B,IAAI,CAAC,aAAa,EAAE,CAAA;SACrB;IACH,CAAC;IAED,gCAAa,GAAb;QACE,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,CAAA;QACvB,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,IAAG,GAAG,EAAE;YAC3B,IAAI,CAAC,aAAa,EAAE,CAAA;SACrB;IACH,CAAC;IAlDD;QADC,QAAQ;2CACS;IAHC,QAAQ;QAD5B,OAAO;OACa,QAAQ,CAuD5B;IAAD,eAAC;CAvDD,AAuDC,CAvDqC,EAAE,CAAC,SAAS,GAuDjD;kBAvDoB,QAAQ","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["const { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class NewClass extends cc.Component {\n\n  @property\n  timer: number = 10\n  game: any = null\n\n  onLoad() {\n    this.setJumpAction()\n  }\n\n  setJumpAction() {\n    const groundY = this.game.ground.y\n    const jump = cc.moveBy(1, cc.p(0, - this.node.y + this.node.height / 2 + groundY)).easing(cc.easeBounceOut())\n    this.node.runAction(jump)\n  }\n\n  onPicked() {\n    this.game.gainGold()\n    this.node.destroy()\n  }\n\n  // 获取小车坐标\n  getCarPosition() {\n    const carPos = this.game.car.getPosition()\n    const dist = cc.pDistance(this.node.position, carPos)\n    return dist\n  }\n\n  update(dt) {\n    this.timer -= dt\n    if (this.timer <= 3) {\n      this.setOpacityDel()\n    }\n    if (this.timer <= 0) {\n      this.node.destroy()\n    }\n    if (this.getCarPosition() < this.node.width / 2 + this.game.car.width / 2) {\n      this.onPicked()\n    }\n  }\n\n  setOpacityDel() {\n    this.node.opacity -= 10\n    if (this.node.opacity <= 100) {\n      this.setOpacityAdd()\n    }\n  }\n\n  setOpacityAdd() {\n    this.node.opacity += 10\n    if (this.node.opacity >=244) {\n      this.setOpacityDel()\n    }\n  }\n\n}\n"]}